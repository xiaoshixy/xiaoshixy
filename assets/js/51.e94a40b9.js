(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{557:function(s,a,t){"use strict";t.r(a);var n=t(16),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#约束"}},[s._v("#")]),s._v(" 约束")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("定义")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在创建表的时候，我们可以给表中的字段加上一些约束，来保证这个表中数据的"),t("strong",[s._v("完整性、有效性")])])]),s._v(" "),t("li",[t("p",[s._v("约束的作用就是为了保证："),t("strong",[s._v("表中的数据有效")])])])])]),s._v(" "),t("h2",{attrs:{id:"非空约束-not-null"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非空约束-not-null"}},[s._v("#")]),s._v(" 非空约束：not null")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("非空约束not null约束的字段不能为"),t("code",[s._v("NULL")])])]),s._v(" "),t("li",[t("p",[s._v("只能是列级约束")])]),s._v(" "),t("li",[t("p",[s._v("实际工作，在mysql当中怎么执行sql脚本呢？")]),s._v(" "),t("blockquote",[t("p",[s._v("mysql> source D:\\course\\03-MySQL\\document\\vip.sql")])])])])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("drop table if exists t_vip;\ncreate table t_vip(\n        id int,\n        name varchar(255) not null  # not null只有列级约束，没有表级约束！\n\t);\ninsert into t_vip(id,name) values(1,'zhangsan');\ninsert into t_vip(id,name) values(2,'lisi');\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"唯一性约束-unique"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#唯一性约束-unique"}},[s._v("#")]),s._v(" 唯一性约束: unique")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("唯一性约束"),t("code",[s._v("unique")]),s._v("约束的字段"),t("strong",[s._v("不能重复")]),s._v("，但是可以为"),t("code",[s._v("NULL")]),s._v("。")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\tdrop table if exists t_vip;\n\tcreate table t_vip(\n            id int,\n            name varchar(255) unique,\n            email varchar(255)\n\t);\n\tinsert into t_vip(id,name,email) values(1,'zhangsan','zhangsan@123.com');\n\tinsert into t_vip(id,name,email) values(2,'lisi','lisi@123.com');\n\tinsert into t_vip(id,name,email) values(3,'wangwu','wangwu@123.com');\n\tselect * from t_vip;\n\n\tinsert into t_vip(id,name,email) values(4,'wangwu','wangwu@sina.com');\n\tERROR 1062 (23000): Duplicate entry 'wangwu' for key 'name'\n\n\tinsert into t_vip(id) values(4);\n\tinsert into t_vip(id) values(5);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("blockquote",[t("p",[s._v("name字段虽然被"),t("code",[s._v("unique")]),s._v("约束了，但是可以为"),t("code",[s._v("NULL")])])]),s._v(" "),t("h3",{attrs:{id:"联合约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联合约束"}},[s._v("#")]),s._v(" 联合约束")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("drop table if exists t_vip;\ncreate table t_vip(\n\t\t\t\tid int,\n\t\t\t\tname varchar(255),\n\t\t\t\temail varchar(255),\n\t\t\t\tunique(name,email) #约束没有添加在列的后面，这种约束被称为表级约束。\n\t\t\t);\ninsert into t_vip(id,name,email) values(1,'zhangsan','zhangsan@123.com');\ninsert into t_vip(id,name,email) values(2,'zhangsan','zhangsan@sina.com');\nselect * from t_vip;\n\n#name和email两个字段联合起来唯一！！！\ninsert into t_vip(id,name,email) values(3,'zhangsan','zhangsan@sina.com');\nERROR 1062 (23000): Duplicate entry 'zhangsan-zhangsan@sina.com' for key 'name'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("blockquote",[t("p",[s._v("列级约束"),t("br")]),s._v(" "),t("p",[s._v("约束直接添加到列后面"),t("br")]),s._v(" "),t("p",[s._v("表级约束"),t("br")]),s._v(" "),t("p",[s._v("约束没有添加在列的后面"),t("br")]),s._v(" "),t("p",[s._v("什么时候使用表级约束呢？"),t("br"),s._v("\n需要给"),t("strong",[s._v("多个字段联合起来添加某一个约束")]),s._v("的时候，需要使用表级约束。")])]),s._v(" "),t("h3",{attrs:{id:"unique-和not-null可以联合吗"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unique-和not-null可以联合吗"}},[s._v("#")]),s._v(" unique 和not null可以联合吗？")]),s._v(" "),t("p",[s._v("在mysql当中，如果一个字段"),t("strong",[s._v("同时")]),s._v("被"),t("code",[s._v("not null")]),s._v("和"),t("code",[s._v("unique")]),s._v("约束的话，该字段自动变成"),t("strong",[s._v("主键")]),s._v("字段。")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("drop table if exists t_vip;\ncreate table t_vip(\n        id int,\n        name varchar(255) not null unique\n);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"主键约束-primary-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主键约束-primary-key"}},[s._v("#")]),s._v(" 主键约束（primary key）")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("ol",[t("li",[s._v("主键约束：就是一种约束。")]),s._v(" "),t("li",[s._v("主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段")]),s._v(" "),t("li",[s._v("主键值：主键字段中的每一个值都叫做：主键值。")]),s._v(" "),t("li",[s._v("什么是主键？有啥用？\n"),t("ul",[t("li",[s._v("主键值是每一行记录的唯一标识。")]),s._v(" "),t("li",[s._v("主键值是每一行记录的身份证号！！！")]),s._v(" "),t("li",[s._v("记住："),t("strong",[s._v("任何一张表都应该有主键，没有主键，表无效！！")])])])])])]),s._v(" "),t("ul",[t("li",[s._v("主键的特征：not null + unique（主键值不能是"),t("code",[s._v("NULL")]),s._v("，同时也不能重复！）")])]),s._v(" "),t("h3",{attrs:{id:"怎么添加主键约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么添加主键约束"}},[s._v("#")]),s._v(" 怎么添加主键约束")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("drop table if exists t_vip;\n#1个字段做主键，叫做：单一主键\ncreate table t_vip(\n\t\t\tid int primary key, #列级约束\n\t\t\tname varchar(255)\n\t\t);\ninsert into t_vip(id,name) values(1,'zhangsan');\ninsert into t_vip(id,name) values(2,'lisi');\n\n#错误：不能重复\ninsert into t_vip(id,name) values(2,'wangwu');\nERROR 1062 (23000): Duplicate entry '2' for key 'PRIMARY'\n\n#错误：不能为NULL\ninsert into t_vip(name) values('zhaoliu');\nERROR 1364 (HY000): Field 'id' doesn't have a default value\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("可以这样添加主键吗，使用表级约束？")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击查看")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\tdrop table if exists t_vip;\n\tcreate table t_vip(\n\t\tid int,\n\t\tname varchar(255),\n\t\tprimary key(id) #表级约束\n\t);\n\tinsert into t_vip(id,name) values(1,'zhangsan');\n\n#错误\n\tinsert into t_vip(id,name) values(1,'lisi');\n\tERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("p",[s._v("表级约束主要是给多个字段联合起来添加约束？")]),s._v(" "),t("blockquote",[t("p",[s._v("在实际开发中不建议使用：复合主键。"),t("strong",[s._v("建议使用单一主键")]),s._v("！"),t("br"),s._v("\n因为主键值存在的意义就是这行记录的身份证号，只要意义达到即可，单一主键可以做到。"),t("br"),s._v("\n复合主键比较复杂，不建议使用")])]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击查看")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\tdrop table if exists t_vip;\n\t// id和name联合起来做主键：复合主键！！！！\n\tcreate table t_vip(\n\t\tid int,\n\t\tname varchar(255),\n\t\temail varchar(255),\n\t\tprimary key(id,name)\n\t);\n\tinsert into t_vip(id,name,email) values(1,'zhangsan','zhangsan@123.com');\n\tinsert into t_vip(id,name,email) values(1,'lisi','lisi@123.com');\n\n\t//错误：不能重复\n\tinsert into t_vip(id,name,email) values(1,'lisi','lisi@123.com');\n\tERROR 1062 (23000): Duplicate entry '1-lisi' for key 'PRIMARY'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"主键值建议使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主键值建议使用"}},[s._v("#")]),s._v(" 主键值建议使用")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),t("ul",[t("li",[s._v("int")]),s._v(" "),t("li",[s._v("bigint")]),s._v(" "),t("li",[s._v("char")]),s._v(" "),t("li",[s._v("不建议使用：varchar来做主键。主键值一般都是数字，一般都是定长的！")])])]),s._v(" "),t("h3",{attrs:{id:"主键其他分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主键其他分类"}},[s._v("#")]),s._v(" 主键其他分类")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击查看")]),s._v(" "),t("p",[s._v("自然主键：主键值是一个自然数，和业务没关系。"),t("br"),s._v("\n业务主键：主键值和业务紧密关联，例如拿银行卡账号做主键值。这就是业务主键！"),t("br")]),s._v(" "),t("p",[s._v("在实际开发中使用业务主键多，还是使用自然主键多一些？"),t("br")]),s._v(" "),t("p",[s._v("自然主键使用比较多，因为主键只要做到不重复就行，不需要有意义。"),t("br")]),s._v(" "),t("p",[s._v("业务主键不好，因为主键一旦和业务挂钩，那么当业务发生变动的时候，")]),s._v(" "),t("p",[s._v("可能会影响到主键值，所以业务主键不建议使用。尽量使用自然主键")])]),s._v(" "),t("h3",{attrs:{id:"自动维护主键值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动维护主键值"}},[s._v("#")]),s._v(" 自动维护主键值")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击查看")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\tdrop table if exists t_vip;\n\tcreate table t_vip(\n\t\tid int primary key auto_increment, #auto_increment表示自增，从1开始，以1递增！\n\t\tname varchar(255)\n\t);\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tinsert into t_vip(name) values('zhangsan');\n\tselect * from t_vip;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])]),s._v(" "),t("h2",{attrs:{id:"外键约束-foreign-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外键约束-foreign-key"}},[s._v("#")]),s._v(" 外键约束（foreign key)")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("术语")]),s._v(" "),t("ol",[t("li",[s._v("外键约束：一种约束（foreign key）")]),s._v(" "),t("li",[s._v("外键字段：该字段上添加了外键约束")]),s._v(" "),t("li",[s._v("外键值：外键字段当中的每一个值。")])])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("create table t_class(\n        classno int primary key,\n        classname varchar(255)\n);\ncreate table t_student(\n        no int primary key auto_increment,\n        name varchar(255),\n        cno int,\n        foreign key(cno) references t_class(classno)\n);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("删除表的顺序？")])]),s._v(" "),t("blockquote",[t("p",[s._v("先删子，再删父。")])]),s._v(" "),t("ul",[t("li",[s._v("创建表的顺序？")])]),s._v(" "),t("blockquote",[t("p",[s._v("先创建父，再创建子。")])]),s._v(" "),t("ul",[t("li",[s._v("删除数据的顺序？")])]),s._v(" "),t("blockquote",[t("p",[s._v("先删子，再删父。")])]),s._v(" "),t("ul",[t("li",[s._v("插入数据的顺序？")])]),s._v(" "),t("blockquote",[t("p",[s._v("先插入父，再插入子。")])]),s._v(" "),t("ul",[t("li",[s._v("思考：子表中的外键引用的父表中的某个字段，被引用的这个字段必须是主键吗？")])]),s._v(" "),t("blockquote",[t("p",[s._v("不一定是主键，但至少具有"),t("code",[s._v("unique")]),s._v("约束。")])]),s._v(" "),t("ul",[t("li",[s._v("测试：外键可以为"),t("code",[s._v("NULL")]),s._v("吗？")])]),s._v(" "),t("blockquote",[t("p",[s._v("外键值可以为"),t("code",[s._v("NULL")])])]),s._v(" "),t("h2",{attrs:{id:"存储引擎-了解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎-了解"}},[s._v("#")]),s._v(" 存储引擎(了解)")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("定义及作用")]),s._v(" "),t("p",[s._v("​\t存储引擎是MySQL中特有的一个术语，其它数据库中没有。")]),s._v(" "),t("p",[s._v("​\t"),t("strong",[s._v("实际上存储引擎是一个表存储/组织数据的方式")]),s._v("。")]),s._v(" "),t("p",[s._v("​\t不同的存储引擎，表存储数据的方式不同。")])]),s._v(" "),t("h3",{attrs:{id:"怎么给表添加-指定-存储引擎-呢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么给表添加-指定-存储引擎-呢"}},[s._v("#")]),s._v(" 怎么给表添加/指定“存储引擎”呢")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("show create table t_student;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE TABLE `t_student` (\n  `no` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) DEFAULT NULL,\n  `classno` int(11) DEFAULT NULL,\n  `classname` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`no`)\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("ol",[t("li",[t("p",[s._v('在建表的时候可以在最后小括号的")"的右边使用：')]),s._v(" "),t("p",[t("code",[s._v("ENGINE")]),s._v("来指定存储引擎。")]),s._v(" "),t("p",[t("code",[s._v("CHARSET")]),s._v("来指定这张表的字符编码方式。")])])]),s._v(" "),t("p",[s._v("结论：")]),s._v(" "),t("p",[t("code",[s._v("mysql")]),s._v("默认的存储引擎是："),t("code",[s._v("InnoDB")])]),s._v(" "),t("p",[t("code",[s._v("mysql")]),s._v("默认的字符编码方式是："),t("code",[s._v("utf8")])])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#建表时指定存储引擎，以及字符编码方式。\n\tcreate table t_product(\n\t\tid int primary key,\n\t\tname varchar(255)\n\t)engine=InnoDB default charset=gbk;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"怎么查看mysql支持哪些存储引擎呢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么查看mysql支持哪些存储引擎呢"}},[s._v("#")]),s._v(" 怎么查看mysql支持哪些存储引擎呢")]),s._v(" "),t("blockquote",[t("p",[s._v("mysql支持九大存储引擎，当前5.5.36支持8个。版本不同支持情况不同")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> select version();\nshow engines \\G;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"关于mysql常用的存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于mysql常用的存储引擎"}},[s._v("#")]),s._v(" 关于mysql常用的存储引擎")]),s._v(" "),t("h3",{attrs:{id:"myisam存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#myisam存储引擎"}},[s._v("#")]),s._v(" MyISAM存储引擎")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("特征")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("它管理的表具有以下特征：")]),s._v(" "),t("p",[s._v("使用三个文件表示每个表：")]),s._v(" "),t("p",[s._v("格式文件 — 存储表结构的定义（mytable.frm）")]),s._v(" "),t("p",[s._v("数据文件 — 存储表行的内容（mytable.MYD）")]),s._v(" "),t("p",[s._v("索引文件 — 存储表上索引（mytable.MYI）：索引是一本书的目录，缩小扫描范围，提高查询效率的一种机制。")]),s._v(" "),t("p",[s._v("可被转换为压缩、只读表来节省空间")])])])]),s._v(" "),t("p",[s._v("提示一下：")]),s._v(" "),t("p",[s._v("对于一张表来说，只要是主键，或者加有unique约束的字段上会自动创建索引。")]),s._v(" "),t("ul",[t("li",[s._v("MyISAM存储引擎特点：")])]),s._v(" "),t("blockquote",[t("p",[s._v("可被转换为压缩、只读表来节省空间,这是这种存储引擎的优势！！！！"),t("br")]),s._v(" "),t("p",[s._v("MyISAM不支持事务机制，安全性低。")])]),s._v(" "),t("h3",{attrs:{id:"innodb存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#innodb存储引擎"}},[s._v("#")]),s._v(" InnoDB存储引擎")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("特征")]),s._v(" "),t("p",[s._v("这是mysql默认的存储引擎，同时也是一个重量级的存储引擎。"),t("br"),s._v("\nInnoDB支持事务，支持数据库崩溃后自动恢复机制。"),t("br"),s._v("\nInnoDB存储引擎最主要的特点是：非常安全。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("InnoDB最大的特点就是支持事务：")]),s._v(" "),t("p",[s._v("以保证数据的安全。效率不是很高，并且也不能压缩，不能转换为只读，")]),s._v(" "),t("p",[s._v("不能很好的节省存储空间。")])])])]),s._v(" "),t("p",[s._v("它管理的表具有下列主要特征：")]),s._v(" "),t("p",[s._v("– 每个 InnoDB 表在数据库目录中以.frm 格式文件表示")]),s._v(" "),t("p",[s._v("– InnoDB 表空间 tablespace 被用于存储表的内容（表空间是一个逻辑名称。表空间存储数据+索引。）")]),s._v(" "),t("p",[s._v("– 提供一组用来记录事务性活动的日志文件")]),s._v(" "),t("p",[s._v("– 用 COMMIT(提交)、SAVEPOINT 及ROLLBACK(回滚)支持事务处理")]),s._v(" "),t("p",[s._v("​\t– 提供全 ACID 兼容")]),s._v(" "),t("p",[s._v("​\t– 在 MySQL 服务器崩溃后提供自动恢复")]),s._v(" "),t("p",[s._v("​\t– 多版本（MVCC）和行级锁定")]),s._v(" "),t("p",[s._v("​\t– 支持外键及引用的完整性，包括级联删除和更新")]),s._v(" "),t("h3",{attrs:{id:"memory存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#memory存储引擎"}},[s._v("#")]),s._v(" MEMORY存储引擎")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("特征")]),s._v(" "),t("p",[s._v("使用 MEMORY 存储引擎的表，其数据存储在内存中，且行的长度固定，")]),s._v(" "),t("p",[s._v("这两个特点使得 MEMORY 存储引擎非常快。")]),s._v(" "),t("p",[s._v("MEMORY 存储引擎管理的表具有下列特征：")]),s._v(" "),t("p",[s._v("– 在数据库目录内，每个表均以.frm 格式的文件表示。")]),s._v(" "),t("p",[s._v("– 表数据及索引被存储在内存中。（目的就是快，查询快！）")]),s._v(" "),t("p",[s._v("– 表级锁机制。")]),s._v(" "),t("p",[s._v("– 不能包含 TEXT 或 BLOB 字段。")])]),s._v(" "),t("ul",[t("li",[s._v("MEMORY 存储引擎以前被称为HEAP 引擎。")]),s._v(" "),t("li",[s._v("MEMORY引擎优点：查询效率是最高的。不需要和硬盘交互。")]),s._v(" "),t("li",[s._v("MEMORY引擎缺点：不安全，关机之后数据消失。因为数据和索引都是在内存当中。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);