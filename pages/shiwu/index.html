<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySql之事务索引 | 时间旅行者の博客</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/xiaoshixy/img/favicon.ico">
    <link rel="stylesheet" href="/xiaoshixy//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="日常学习记录">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/xiaoshixy/assets/css/0.styles.f2818ccd.css" as="style"><link rel="preload" href="/xiaoshixy/assets/js/app.929aa955.js" as="script"><link rel="preload" href="/xiaoshixy/assets/js/2.bc0d13a8.js" as="script"><link rel="preload" href="/xiaoshixy/assets/js/52.ed5e0542.js" as="script"><link rel="preload" href="/xiaoshixy/assets/js/5.20225ec1.js" as="script"><link rel="prefetch" href="/xiaoshixy/assets/js/10.e6631cdb.js"><link rel="prefetch" href="/xiaoshixy/assets/js/11.e1480026.js"><link rel="prefetch" href="/xiaoshixy/assets/js/12.6a7860e6.js"><link rel="prefetch" href="/xiaoshixy/assets/js/13.51c98073.js"><link rel="prefetch" href="/xiaoshixy/assets/js/14.e9f6780e.js"><link rel="prefetch" href="/xiaoshixy/assets/js/15.0d345c45.js"><link rel="prefetch" href="/xiaoshixy/assets/js/16.5a75b3d3.js"><link rel="prefetch" href="/xiaoshixy/assets/js/17.89f14af8.js"><link rel="prefetch" href="/xiaoshixy/assets/js/18.13e1eb1e.js"><link rel="prefetch" href="/xiaoshixy/assets/js/19.b49b8794.js"><link rel="prefetch" href="/xiaoshixy/assets/js/20.290f6156.js"><link rel="prefetch" href="/xiaoshixy/assets/js/21.437c263b.js"><link rel="prefetch" href="/xiaoshixy/assets/js/22.1d6c98e0.js"><link rel="prefetch" href="/xiaoshixy/assets/js/23.d65c9c34.js"><link rel="prefetch" href="/xiaoshixy/assets/js/24.23b557a7.js"><link rel="prefetch" href="/xiaoshixy/assets/js/25.55982e70.js"><link rel="prefetch" href="/xiaoshixy/assets/js/26.8ca73f62.js"><link rel="prefetch" href="/xiaoshixy/assets/js/27.5cd4d6c0.js"><link rel="prefetch" href="/xiaoshixy/assets/js/28.902a5e26.js"><link rel="prefetch" href="/xiaoshixy/assets/js/29.1d623860.js"><link rel="prefetch" href="/xiaoshixy/assets/js/3.9b5ed874.js"><link rel="prefetch" href="/xiaoshixy/assets/js/30.e3788eee.js"><link rel="prefetch" href="/xiaoshixy/assets/js/31.e091ae4c.js"><link rel="prefetch" href="/xiaoshixy/assets/js/32.4a0516b6.js"><link rel="prefetch" href="/xiaoshixy/assets/js/33.c7143b29.js"><link rel="prefetch" href="/xiaoshixy/assets/js/34.8521f3b3.js"><link rel="prefetch" href="/xiaoshixy/assets/js/35.dcec0c91.js"><link rel="prefetch" href="/xiaoshixy/assets/js/36.42cd465e.js"><link rel="prefetch" href="/xiaoshixy/assets/js/37.095ce914.js"><link rel="prefetch" href="/xiaoshixy/assets/js/38.59e9282b.js"><link rel="prefetch" href="/xiaoshixy/assets/js/39.f1f7d176.js"><link rel="prefetch" href="/xiaoshixy/assets/js/4.e3d159c1.js"><link rel="prefetch" href="/xiaoshixy/assets/js/40.a77f088f.js"><link rel="prefetch" href="/xiaoshixy/assets/js/41.3b2d6971.js"><link rel="prefetch" href="/xiaoshixy/assets/js/42.adaf88c2.js"><link rel="prefetch" href="/xiaoshixy/assets/js/43.204a4570.js"><link rel="prefetch" href="/xiaoshixy/assets/js/44.82e522c9.js"><link rel="prefetch" href="/xiaoshixy/assets/js/45.45c55b86.js"><link rel="prefetch" href="/xiaoshixy/assets/js/46.e2be41e7.js"><link rel="prefetch" href="/xiaoshixy/assets/js/47.3c3f3878.js"><link rel="prefetch" href="/xiaoshixy/assets/js/48.a0d98520.js"><link rel="prefetch" href="/xiaoshixy/assets/js/49.d8ba90a8.js"><link rel="prefetch" href="/xiaoshixy/assets/js/50.ac361f0f.js"><link rel="prefetch" href="/xiaoshixy/assets/js/51.e94a40b9.js"><link rel="prefetch" href="/xiaoshixy/assets/js/53.940539af.js"><link rel="prefetch" href="/xiaoshixy/assets/js/54.991cf8fd.js"><link rel="prefetch" href="/xiaoshixy/assets/js/55.68ba0ed7.js"><link rel="prefetch" href="/xiaoshixy/assets/js/56.67d6918c.js"><link rel="prefetch" href="/xiaoshixy/assets/js/57.b3fb3b92.js"><link rel="prefetch" href="/xiaoshixy/assets/js/58.f3f142b5.js"><link rel="prefetch" href="/xiaoshixy/assets/js/59.35a3ae15.js"><link rel="prefetch" href="/xiaoshixy/assets/js/6.c88685d2.js"><link rel="prefetch" href="/xiaoshixy/assets/js/60.a994ac96.js"><link rel="prefetch" href="/xiaoshixy/assets/js/61.522d248c.js"><link rel="prefetch" href="/xiaoshixy/assets/js/62.8ef14cf8.js"><link rel="prefetch" href="/xiaoshixy/assets/js/63.5dab89bd.js"><link rel="prefetch" href="/xiaoshixy/assets/js/64.5a025126.js"><link rel="prefetch" href="/xiaoshixy/assets/js/65.4c6b96ba.js"><link rel="prefetch" href="/xiaoshixy/assets/js/66.f03a1e60.js"><link rel="prefetch" href="/xiaoshixy/assets/js/67.c9a9d2a8.js"><link rel="prefetch" href="/xiaoshixy/assets/js/68.8e455a82.js"><link rel="prefetch" href="/xiaoshixy/assets/js/69.91be1bd0.js"><link rel="prefetch" href="/xiaoshixy/assets/js/7.80bd6e1e.js"><link rel="prefetch" href="/xiaoshixy/assets/js/8.1d9433a1.js"><link rel="prefetch" href="/xiaoshixy/assets/js/9.7891c4a0.js">
    <link rel="stylesheet" href="/xiaoshixy/assets/css/0.styles.f2818ccd.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xiaoshixy/" class="home-link router-link-active"><img src="/xiaoshixy/img/logo.gif" alt="时间旅行者の博客" class="logo"> <span class="site-name can-hide">时间旅行者の博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/xiaoshixy/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><a href="/xiaoshixy/ui/" class="link-title">关于</a> <span class="title" style="display:none;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiaoshixy/pages/4557c4/" class="nav-link">清单</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/xiaoshixy/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/js/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/dom/" class="nav-link">DOM</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客搭建" class="dropdown-title"><a href="/xiaoshixy/blog/" class="link-title">博客搭建</a> <span class="title" style="display:none;">博客搭建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安装指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/4d4f5d/" class="nav-link">vuepress安装指南</a></li></ul></li><li class="dropdown-item"><h4>魔改记录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/1e8897/" class="nav-link">首页大图模块</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><a href="/xiaoshixy/study/" class="link-title">学习笔记</a> <span class="title" style="display:none;">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>软考</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/ruankao/" class="nav-link">《软考高项》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>MySql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/mysql/" class="nav-link">《MySql》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/python/" class="nav-link">《Python》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>学车技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/kemuyi/" class="nav-link">科目一</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/bc1c30/" class="nav-link">科目二</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/b98baf/" class="nav-link">科目四</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><a href="/xiaoshixy/technology/" class="link-title">技术文档</a> <span class="title" style="display:none;">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>技术文档</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/9a7ee40fc232253e/" class="nav-link">Git使用手册</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/ad247c4332211551/" class="nav-link">Markdown使用教程</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/61f2f95fd7da14fd/" class="nav-link">npm常用命令</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/dec4f3f00e71a312/" class="nav-link">npm packageJson属性详解</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/4e8444e2d534d14f/" class="nav-link">yaml语言教程</a></li></ul></li><li class="dropdown-item"><h4>GitHub技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/6b9d359ec5aa5019/" class="nav-link">GitHub高级搜索技巧</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/6b9d359ec5aa5019/" class="nav-link">GitHub Actions 实现自动部署静态博客</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/f44d2f9ad04ab8d3/" class="nav-link">GitHub Actions 每天定时百度链接推送</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/95331c6a9613faf8/" class="nav-link">GitHub加速下载项目的方法</a></li></ul></li><li class="dropdown-item"><h4>Nodejs</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/117708e0af7f0bd9/" class="nav-link">nodejs递归读取所有文件</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/xiaoshixy/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/xiaoshixy/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiaoshixy/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/xiaoshixy/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/xiaoshixy/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/xiayuan-001/picx-image-hosting@main/vueblog/avastar.4ga3smalsx60.webp"> <div class="blogger-info"><h3>时间旅行者</h3> <span>前端菜鸟</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/xiaoshixy/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><a href="/xiaoshixy/ui/" class="link-title">关于</a> <span class="title" style="display:none;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiaoshixy/pages/4557c4/" class="nav-link">清单</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/xiaoshixy/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/js/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>进阶知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/dom/" class="nav-link">DOM</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客搭建" class="dropdown-title"><a href="/xiaoshixy/blog/" class="link-title">博客搭建</a> <span class="title" style="display:none;">博客搭建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安装指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/4d4f5d/" class="nav-link">vuepress安装指南</a></li></ul></li><li class="dropdown-item"><h4>魔改记录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/1e8897/" class="nav-link">首页大图模块</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><a href="/xiaoshixy/study/" class="link-title">学习笔记</a> <span class="title" style="display:none;">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>软考</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/ruankao/" class="nav-link">《软考高项》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>MySql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/mysql/" class="nav-link">《MySql》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/note/python/" class="nav-link">《Python》学习笔记</a></li></ul></li><li class="dropdown-item"><h4>学车技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/kemuyi/" class="nav-link">科目一</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/bc1c30/" class="nav-link">科目二</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/b98baf/" class="nav-link">科目四</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><a href="/xiaoshixy/technology/" class="link-title">技术文档</a> <span class="title" style="display:none;">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>技术文档</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/9a7ee40fc232253e/" class="nav-link">Git使用手册</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/ad247c4332211551/" class="nav-link">Markdown使用教程</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/61f2f95fd7da14fd/" class="nav-link">npm常用命令</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/dec4f3f00e71a312/" class="nav-link">npm packageJson属性详解</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/4e8444e2d534d14f/" class="nav-link">yaml语言教程</a></li></ul></li><li class="dropdown-item"><h4>GitHub技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/6b9d359ec5aa5019/" class="nav-link">GitHub高级搜索技巧</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/6b9d359ec5aa5019/" class="nav-link">GitHub Actions 实现自动部署静态博客</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/f44d2f9ad04ab8d3/" class="nav-link">GitHub Actions 每天定时百度链接推送</a></li><li class="dropdown-subitem"><a href="/xiaoshixy/pages/95331c6a9613faf8/" class="nav-link">GitHub加速下载项目的方法</a></li></ul></li><li class="dropdown-item"><h4>Nodejs</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiaoshixy/pages/117708e0af7f0bd9/" class="nav-link">nodejs递归读取所有文件</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/xiaoshixy/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/xiaoshixy/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiaoshixy/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/xiaoshixy/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/xiaoshixy/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>进阶篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xiaoshixy/pages/4bb985/" class="sidebar-link">MySql之作业题</a></li><li><a href="/xiaoshixy/pages/cunchu/" class="sidebar-link">MySql之约束存储</a></li><li><a href="/xiaoshixy/pages/shiwu/" aria-current="page" class="active sidebar-link">MySql之事务索引</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#事务-掌握" class="sidebar-link">事务（掌握）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#到底什么是事务" class="sidebar-link">到底什么是事务</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#事务是怎么做到多条dml语句同时成功和同时失败的" class="sidebar-link">事务是怎么做到多条DML语句同时成功和同时失败的</a></li><li class="sidebar-sub-header level4"><a href="/xiaoshixy/pages/shiwu/#提交事务和回滚事务" class="sidebar-link">提交事务和回滚事务</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#怎么提交事务-怎么回滚事务" class="sidebar-link">怎么提交事务，怎么回滚事务</a></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#事务包括4个特性" class="sidebar-link">事务包括4个特性</a></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#事务的隔离性" class="sidebar-link">事务的隔离性</a></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#验证各种隔离级别" class="sidebar-link">验证各种隔离级别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#验证-read-uncommited" class="sidebar-link">验证：read uncommited</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#验证-read-commited" class="sidebar-link">验证：read commited</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#验证-repeatable-read" class="sidebar-link">验证：repeatable read</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#验证-serializable" class="sidebar-link">验证：serializable</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#索引" class="sidebar-link">索引</a></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#索引的实现原理" class="sidebar-link">索引的实现原理</a></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#索引的创建-删除-语法" class="sidebar-link">索引的创建/删除/语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#创建索引" class="sidebar-link">创建索引</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#删除索引" class="sidebar-link">删除索引</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#怎么查看一个sql语句是否使用了索引进行检索" class="sidebar-link">怎么查看一个SQL语句是否使用了索引进行检索</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#索引失效" class="sidebar-link">索引失效</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#失效的第1种情况" class="sidebar-link">失效的第1种情况</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#失效的第2种情况" class="sidebar-link">失效的第2种情况</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#失效的第3种情况" class="sidebar-link">失效的第3种情况</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#失效的第4种情况" class="sidebar-link">失效的第4种情况</a></li><li class="sidebar-sub-header level3"><a href="/xiaoshixy/pages/shiwu/#失效的第5种情况" class="sidebar-link">失效的第5种情况</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/xiaoshixy/pages/shiwu/#索引分类" class="sidebar-link">索引分类</a></li></ul></li><li><a href="/xiaoshixy/pages/view/" class="sidebar-link">MySql之视图设计</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/xiaoshixy/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/xiaoshixy/note/mysql/#《MySql》学习笔记" data-v-06225672>《MySql》学习笔记</a></li><li data-v-06225672><a href="/xiaoshixy/note/mysql/#进阶篇" data-v-06225672>进阶篇</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xiaoshixy" target="_blank" title="作者" class="beLink" data-v-06225672>xiaoshixy</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">MySql之事务索引<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="事务-掌握"><a href="#事务-掌握" class="header-anchor">#</a> 事务（掌握）</h2> <div class="custom-block tip"><p class="custom-block-title">概念</p> <p>一个事务其实就是一个完整的业务逻辑。
是一个最小的工作单元。不可再分。</p></div> <p>什么是一个完整的业务逻辑？⬇️</p> <details class="custom-block details"><summary>点击查看</summary> <p>假设转账，从A账户向B账户中转账10000.<br>
将A账户的钱减去10000（<code>update</code>语句）<br>
将B账户的钱加上10000（<code>update</code>语句）<br>
这就是一个完整的业务逻辑。</p> <p>以上的操作是一个最小的工作单元，要么同时成功，要么同时失败，不可再分。</p> <p>这两个<code>update</code>语句要求必须同时成功或者同时失败，这样才能保证钱是正确的。</p></details> <p>只有DML语句才会有事务这一说，其它语句和事务无关！！！<br> <code>insert</code><br> <code>delete</code><br> <code>update</code><br> <strong>只有以上的三个语句和事务有关系，其它都没有关系。</strong><br></p> <p>因为 只有以上的三个语句是数据库表中数据进行增、删、改的。<br>
只要你的操作一旦涉及到数据的增、删、改，那么就一定要考虑安全问题。<br></p> <h3 id="到底什么是事务"><a href="#到底什么是事务" class="header-anchor">#</a> 到底什么是事务</h3> <div class="custom-block danger"><p class="custom-block-title">警告</p> <p>说到底，说到本质上，一个事务其实就是多条DML语句同时成功，或者同时失败！<br> <strong>事务：就是批量的DML语句同时成功，或者同时失败！</strong></p></div> <h3 id="事务是怎么做到多条dml语句同时成功和同时失败的"><a href="#事务是怎么做到多条dml语句同时成功和同时失败的" class="header-anchor">#</a> 事务是怎么做到多条DML语句同时成功和同时失败的</h3> <p><code>InnoDB</code>存储引擎：提供一组用来记录事务性活动的日志文件</p> <blockquote><p>事务开启了：<br>
insert<br>
insert<br>
insert<br>
delete<br>
update<br>
update<br>
update<br>
事务结束了！</p></blockquote> <h4 id="提交事务和回滚事务"><a href="#提交事务和回滚事务" class="header-anchor">#</a> 提交事务和回滚事务</h4> <details class="custom-block details"><summary>点击查看</summary> <blockquote><p>在事务的执行过程中，每一条DML的操作都会记录到“事务性活动的日志文件”中。<br>
在事务的执行过程中，我们可以提交事务，也可以回滚事务。</p></blockquote> <ol><li><p>提交事务？</p> <p>清空事务性活动的日志文件，将数据全部彻底<strong>持久化</strong>到数据库表中。</p> <p>提交事务标志着，事务的结束。并且是一种<strong>全部成功</strong>的结束。</p></li> <li><p>回滚事务？</p> <p>将之前所有的DML操作全部撤销，并且<strong>清空事务性活动</strong>的日志文件</p> <p>回滚事务标志着，事务的结束。并且是一种<strong>全部失败</strong>的结束。</p></li></ol></details> <h2 id="怎么提交事务-怎么回滚事务"><a href="#怎么提交事务-怎么回滚事务" class="header-anchor">#</a> 怎么提交事务，怎么回滚事务</h2> <blockquote><p>提交事务：commit; 语句<br></p> <p>回滚事务：rollback; 语句（回滚永远都是只能回滚到上一次的提交点！）</p></blockquote> <ul><li>事务对应的英语单词是：transaction</li></ul> <p>测试一下，在mysql当中默认的事务行为是怎样的</p> <details class="custom-block details"><summary>点击查看</summary> <p>mysql默认情况下是支持自动提交事务的。（自动提交）</p> <p>什么是自动提交？</p> <p>每执行一条DML语句，则提交一次！</p> <p>这种自动提交实际上是不符合我们的开发习惯，因为一个业务通常是需要多条DML语句共同执行才能完成的，为了保证数据的安全，必须要求同时成功之后再提交，所以不能执行一条就提交一条。</p></details> <ul><li>怎么将mysql的自动提交机制关闭掉呢？</li> <li>先执行这个命令：start transaction;</li></ul> <h2 id="事务包括4个特性"><a href="#事务包括4个特性" class="header-anchor">#</a> 事务包括4个特性</h2> <ul><li><p>A：原子性</p> <p>说明事务是<strong>最小</strong>的工作单元。<strong>不可再分</strong>。</p></li> <li><p>C：一致性</p> <p>所有事务要求，在同一个事务当中，所有操作必须<strong>同时成功</strong>，或者<strong>同时失败</strong>，以保证数据的一致性。</p></li> <li><p>I：隔离性</p> <p><strong>A事务和B事务之间具有一定的隔离</strong>。</p> <p>教室A和教室B之间有一道墙，这道墙就是隔离性。</p> <p>A事务在操作一张表的时候，另一个事务B也操作这张表会那样？？？</p></li> <li><p>D：持久性</p> <p><strong>事务最终结束的一个保障</strong>。事务提交，就相当于将没有保存到硬盘上的数据保存到硬盘上！</p></li></ul> <h2 id="事务的隔离性"><a href="#事务的隔离性" class="header-anchor">#</a> 事务的隔离性</h2> <blockquote><p>A教室和B教室中间有一道墙，这道墙可以很厚，也可以很薄。这就是事务的隔离级别。<br>
这道墙越厚，表示隔离级别就越高。</p></blockquote> <p>事务和事务之间的隔离级别有哪些呢？4个级别</p> <details class="custom-block details"><summary>点击查看</summary> <ul><li>读未提交：read uncommitted（<strong>最低的隔离级别</strong>）《没有提交就读到了》</li></ul> <blockquote><p>什么是读未提交？</p> <p>事务A可以读取到事务B未提交的数据。</p> <p>这种隔离级别存在的问题就是：**脏读现象(Dirty Read)**我们称读到了脏数据。</p> <p>这种隔离级别一般都是理论上的，<strong>大多数的数据库隔离级别都是二档起步</strong></p></blockquote> <ul><li>读已提交：read committed《提交之后才能读到》</li></ul> <blockquote><p>什么是读已提交？</p> <p>事务A只能读取到事务B提交之后的数据。</p> <p>这种隔离级别解决了什么问题？<strong>解决了脏读的现象</strong></p> <p>这种隔离级别存在什么问题？<strong>不可重复读取数据</strong></p> <p>什么是不可重复读取数据呢？</p> <p>在事务开启之后，第一次读到的数据是3条，当前事务还没有结束，可能第二次再读取的时候，读到的数据是4条，3不等于4称为不可重复读取。</p></blockquote> <p><strong>这种隔离级别是比较真实的数据，每一次读到的数据是绝对的真实</strong>。</p> <ul><li>可重复读：repeatable read《提交之后也读不到，<strong>永远读取的都是刚开启事务时的数据</strong>》</li></ul> <blockquote><p>什么是可重复读取？</p> <p>事务A开启之后，不管是多久，每一次在事务A中读取到的数据都是一致的。</p> <p>即使事务B将数据已经修改，并且提交了，事务A读取到的数据还是没有发生改变，这就是可重复读。
可重复读解决了什么问题？</p> <p>解决了不可重复读取数据。</p> <p>可重复读存在的问题是什么？</p> <p>可以会出现幻影读。每一次读取到的数据都是幻象。不够真实！</p></blockquote> <p>早晨9点开始开启了事务，只要事务不结束，到晚上9点，读到的数据还是那样！读到的是假象。不够绝对的真实。<br></p> <p><strong>mysql中默认的事务隔离级别就是这个！！！</strong></p> <ul><li>序列化/串行化：serializable（最高的隔离级别）</li></ul> <blockquote><p>这是最高隔离级别，效率最低。解决了所有的问题。</p> <p>这种隔离级别表示事务排队，<strong>不能并发</strong>！</p> <p>synchronized，线程同步（事务同步）</p> <p><strong>每一次读取到的数据都是最真实的，并且效率是最低的</strong></p></blockquote></details> <h2 id="验证各种隔离级别"><a href="#验证各种隔离级别" class="header-anchor">#</a> 验证各种隔离级别</h2> <p>查看隔离级别：SELECT @@transaction_isolation;</p> <h3 id="验证-read-uncommited"><a href="#验证-read-uncommited" class="header-anchor">#</a> 验证：read uncommited</h3> <p><img src="https://git.poker/xiayuan-001/picx-image-hosting/blob/main/vueblog/shi1.5p1gvnf8lqo0.webp?raw=true" alt="shi1"></p> <h3 id="验证-read-commited"><a href="#验证-read-commited" class="header-anchor">#</a> 验证：read commited</h3> <p><img src="https://git.poker/xiayuan-001/picx-image-hosting/blob/main/vueblog/shi2.1ehygkuevts0.webp?raw=true" alt="shi2"></p> <h3 id="验证-repeatable-read"><a href="#验证-repeatable-read" class="header-anchor">#</a> 验证：repeatable read</h3> <p><img src="https://git.poker/xiayuan-001/picx-image-hosting/blob/main/vueblog/shi3.4uyd4t1kfu60.webp?raw=true" alt="shi3"></p> <h3 id="验证-serializable"><a href="#验证-serializable" class="header-anchor">#</a> 验证：serializable</h3> <p><img src="https://git.poker/xiayuan-001/picx-image-hosting/blob/main/vueblog/shi4.532pcyqzcu40.webp?raw=true" alt="shi4"></p> <h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <div class="custom-block tip"><p class="custom-block-title">概念</p> <p>索引是在数据库表的字段上添加的，是为了提高查询效率存在的一种机制。</p> <p>一张表的一个字段可以添加一个索引，当然，多个字段联合起来也可以添加索引。</p> <p><strong>索引相当于一本书的目录，是为了缩小扫描范围而存在的一种机制</strong>。</p></div> <p>MySQL在查询方面主要就是两种方式：</p> <p>第一种方式：全表扫描</p> <p>第二种方式：根据索引检索。</p> <h2 id="索引的实现原理"><a href="#索引的实现原理" class="header-anchor">#</a> 索引的实现原理</h2> <details class="custom-block details"><summary>点击查看</summary> <ol><li><p>提醒1：在任何数据库当中<strong>主键上都会自动添加索引对象</strong>，id字段上自动有索引，因为id是PK。另外在mysql当中，一个字段上如果有<strong>unique约束</strong>的话，也会<strong>自动创建索引</strong>对象</p></li> <li><p>提醒2：在任何数据库当中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号。</p></li> <li><p>提醒3：在mysql当中，索引是一个单独的对象，不同的存储引擎以不同的形式存在，在MyISAM存储引擎中，索引存储在一个.MYI文件中。在InnoDB存储引擎中索引存储在一个逻辑名称叫做tablespace的当中。在MEMORY存储引擎当中索引被存储在内存当中。不管索引存储在哪里，<strong>索引在mysql当中都是一个树的形式</strong>存在。（<strong>自平衡二叉树：B-Tree</strong>）</p></li></ol></details> <div class="custom-block danger"><p class="custom-block-title">警告</p> <ul><li>什么条件下，我们会考虑给字段添加索引</li></ul> <p>条件1：数据量庞大</p> <p>条件2：该字段经常出现在where的后面，以条件的形式存在，也就是说这个字段总是被扫描。</p> <p>条件3：该字段很少的DML(insert delete update)操作。（因为DML之后，索引需要重新排序。）</p> <p>建议不要随意添加索引，因为索引也是需要维护的，太多的话反而会降低系统的性能。</p> <p>建议通过主键查询，建议通过unique约束的字段进行查询，效率是比较高的。</p></div> <h2 id="索引的创建-删除-语法"><a href="#索引的创建-删除-语法" class="header-anchor">#</a> 索引的创建/删除/语法</h2> <h3 id="创建索引"><a href="#创建索引" class="header-anchor">#</a> 创建索引</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>#给emp表的ename字段添加索引，起名：emp_ename_index
create index emp_ename_index on emp(ename);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="删除索引"><a href="#删除索引" class="header-anchor">#</a> 删除索引</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>#将emp表上的emp_ename_index索引对象删除。
drop index emp_ename_index on emp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="怎么查看一个sql语句是否使用了索引进行检索"><a href="#怎么查看一个sql语句是否使用了索引进行检索" class="header-anchor">#</a> 怎么查看一个SQL语句是否使用了索引进行检索</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>#扫描14条记录：说明没有使用索引。type=ALL
explain select * from emp where ename = 'KING';
create index emp_ename_index on emp(ename);
explain select * from emp where ename = 'KING';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="索引失效"><a href="#索引失效" class="header-anchor">#</a> 索引失效</h2> <h3 id="失效的第1种情况"><a href="#失效的第1种情况" class="header-anchor">#</a> 失效的第1种情况</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from emp where ename like '%T';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ename上即使添加了索引，也不会走索引，为什么？</p> <ul><li>原因是因为模糊匹配当中以“%”开头了！</li> <li><strong>尽量避免模糊查询的时候以“%”开始</strong>。</li> <li>这是一种优化的手段/策略。</li></ul> <h3 id="失效的第2种情况"><a href="#失效的第2种情况" class="header-anchor">#</a> 失效的第2种情况</h3> <ul><li>使用or的时候会失效，<strong>如果使用or那么要求or两边的条件字段都要有索引，才会走索引</strong>，如果其中一边有一个字段没有索引，那么另一个字段上的索引也会实现。</li> <li>所以这就是为什么不建议使用or的原因。</li></ul> <h3 id="失效的第3种情况"><a href="#失效的第3种情况" class="header-anchor">#</a> 失效的第3种情况</h3> <ul><li>使用复合索引的时候，没有使用左侧的列查找，索引失效</li> <li>什么是复合索引？</li> <li>两个字段，或者更多的字段联合起来添加一个索引，叫做复合索引。</li></ul> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create index emp_job_sal_index on emp(job,sal);
explain select * from emp where job = 'MANAGER';
explain select * from emp where sal = 800;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="失效的第4种情况"><a href="#失效的第4种情况" class="header-anchor">#</a> 失效的第4种情况</h3> <ul><li>在where当中索引列参加了运算，索引失效。</li></ul> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create index emp_sal_index on emp(sal);
explain select * from emp where sal = 800;
explain select * from emp where sal+1 = 800;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="失效的第5种情况"><a href="#失效的第5种情况" class="header-anchor">#</a> 失效的第5种情况</h3> <ul><li>在where当中索引列使用了函数</li></ul> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>explain select * from emp where lower(ename) = 'smith';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="索引分类"><a href="#索引分类" class="header-anchor">#</a> 索引分类</h2> <blockquote><p>索引是各种数据库进行优化的重要手段。<strong>优化的时候优先考虑的因素就是索引</strong>。</p></blockquote> <ul><li>单一索引：一个字段上添加索引。</li> <li>复合索引：两个字段或者更多的字段上添加索引。</li> <li>主键索引：主键上添加索引。</li> <li>唯一性索引：具有unique约束的字段上添加索引。</li></ul> <p>注意：唯一性比较弱的字段上添加索引用处不大。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/《MySql》学习笔记/02.进阶篇/02.MySql之事务索引.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/xiaoshixy/tags/?tag=MySql" title="标签">#MySql</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/xiaoshixy/pages/cunchu/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">MySql之约束存储</div></a> <a href="/xiaoshixy/pages/view/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MySql之视图设计</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/xiaoshixy/pages/cunchu/" class="prev">MySql之约束存储</a></span> <span class="next"><a href="/xiaoshixy/pages/view/">MySql之视图设计</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/xiaoshixy/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/xiaoshixy/pages/py2/"><div>
            python入门知识
            <!----></div></a> <span class="date">10-09</span></dt></dl><dl><dd>02</dd> <dt><a href="/xiaoshixy/pages/kemu3/"><div>
            科目三
            <!----></div></a> <span class="date">09-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/xiaoshixy/pages/f779fb/"><div>
            linux入门
            <!----></div></a> <span class="date">08-15</span></dt></dl> <dl><dd></dd> <dt><a href="/xiaoshixy/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:627910316@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xiayuan-001" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://space.bilibili.com/4973175" title="bilibili" target="_blank" class="iconfont icon-bilibili"></a><a href="https://music.163.com/#/playlist?id=273116211" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Xiao shi | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div></div><div></div></div></div>
    <script src="/xiaoshixy/assets/js/app.929aa955.js" defer></script><script src="/xiaoshixy/assets/js/2.bc0d13a8.js" defer></script><script src="/xiaoshixy/assets/js/52.ed5e0542.js" defer></script><script src="/xiaoshixy/assets/js/5.20225ec1.js" defer></script>
  </body>
</html>
